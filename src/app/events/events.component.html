<div>
  <div>
    <!-- Add new event box -->
    <div class="eventFlexBox">
      <form class="align-content-center newEvent" [formGroup]="eventForm"
        (ngSubmit)="addEvent()">
        <h1 class="calTitle">{{calName}}</h1>
        <h4 class="mt-10">Add New Event</h4>
        <mat-form-field id="name">
          <input matInput type="text" id="eventName" formControlName="name"
            placeholder="Name" required>
        </mat-form-field>
        <mat-form-field id="eventDesc">
          <input matInput type="text" id="eventDesc" formControlName="description"
            placeholder="Description" required>
        </mat-form-field>
        <mat-form-field id="eventDate">
          <input formControlName="date" matInput [matDatepicker]="picker"
            placeholder="Choose a date">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field id="eventDuration">
          <input matInput type="text" id="eventDuration" formControlName="duration"
            placeholder="Duration" required>
        </mat-form-field>
        <button id="addEvent" type="submit" mat-button matTooltip="Add new Event"
          color="accent"><i class="material-icons">
            add
          </i></button>
      </form>
    </div>
    <!-- Back to Calendar button -->
    <div><a class="backToCals mt-50" mat-button color="secondary" (click)="backToCals()"><i
          class="material-icons">
          arrow_back
        </i>Go back to Calendars</a>
    </div>
    <!-- No Event Box -->
    <div class="eventFlexBox" *ngIf="!hasEvents">
      <div class="row">
        <mat-card class="noEvent-card">
          <mat-card-content>
            <h4>There are currently no events for this calendar. Add one here
              or return to your
              calendars.</h4>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
    <!-- Event Cards -->
    <div class="eventFlexBox" *ngIf="hasEvents">
      <div id="events" *ngFor="let event of events; index as i">
        <mat-card class="event-card" [@flipInY]="flipInY">
          <mat-card-header>
            <div mat-card-avatar><i class="material-icons">today</i></div>
            <mat-card-title class="eventCardTitle">Event: {{event.name |
              titlecase}}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Desc: {{event.description | titlecase}}</p>
            <p>Date: {{event.date | date}}</p>
            <p>Duration: {{event.duration}} minutes</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button matTooltip="Edit this event" (click)="updateEvent(i)"><i
                class="material-icons">
                create
              </i></button>
            <button mat-button matTooltip="Delete this event" (click)="deleteEvent(i)"><i
                class="material-icons">
                delete_forever
              </i></button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
    <!-- Event Cards -->
    <!-- Edit Events -->
    <div class="eventFlexBox" *ngIf="eventEdit">
      <form class="align-content-center newEvent" [formGroup]="eventForm"
        (ngSubmit)="editEvent()">
        <h4>Edit Event</h4>
        <mat-form-field id="name">
          <input matInput type="text" id="editEventName" formControlName="name"
            placeholder="Name" required>
        </mat-form-field>
        <mat-form-field id="eventDesc">
          <input matInput type="text" id="editEventDesc" formControlName="description"
            placeholder="Description" required>
        </mat-form-field>
        <mat-form-field id="eventDate">
          <input formControlName="date" matInput [matDatepicker]="picker"
            placeholder="Date" required>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field id="eventDuration">
          <input matInput type="text" id="editEventDuration" formControlName="duration"
            placeholder="Duration" required>
        </mat-form-field>
        <button id="editEvent" type="submit" mat-button matTooltip="Update Event"
          color="accent"><i class="material-icons">
            add
          </i></button>
      </form>
    </div>
  </div>
</div>